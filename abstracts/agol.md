# Characterizing the TRAPPIST-1 system with Julia
## Eric Agol (University of Washington)

The TRAPPIST-1 system consists of seven Earth-sized planets orbiting a small, ultracool dwarf star.  The transits of these planets show variations in the times of transit which can be used to measure the ratios of the masses and radii of the planets to that of their host star.  We developed two sets of software in the Julia language, Limbdark.jl and NbodyGradient.jl, which were put to use in this characterization.  Both of these provided models with analytic derivatives which enable Markov chain sampling with Hamiltonian Monte Carlo necessary for the high-dimensional model of 37 parameters.  Julia streamlined the development of these packages and application to TRAPPIST-1: 1). multiple dispatch enabled computation at BigFloat precision to check analytic derivatives with finite differences; 2). the high-level REPL made debugging and testing code much more straightforward and fast; 3). the integration of Julia with GitHub and Jupyter notebooks aided in developing the transit timing analysis pipeline, and producing publication-quality figures with PyPlot.jl; 4). optimization of the code with type declarations, fast matrix multiplication, and profiling to find bottlenecks resulted in speeds which match that of C implementations of portions of the algorithm.  This enabled the completion of the computationally-expensive portion of the project in only 40,000 CPU hours, all in pure Julia.  This work was covered by NASA and JPL press releases.
